<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE>Version IDs and Version Strings</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice 4.0.0  (Win32)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Andrew Herrick">
	<META NAME="CHANGED" CONTENT="20150902;12445339">
	<META NAME="CHANGEDBY" CONTENT="Andrew Herrick">
	<META NAME="CHANGEDBY" CONTENT="Andrew Herrick">
	<SCRIPT LANGUAGE="JavaScript">
<!--
function MM_openBrWindow(theURL,winName,features) { //v2.0
  window.open(theURL,winName,features);
}
//-->
</SCRIPT>
	<STYLE TYPE="text/css">
	<!--
		H2.cjk { font-family: "SimSun" }
		H2.ctl { font-family: "Mangal" }
		CODE.cjk { font-family: "NSimSun", monospace }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<P><BR><BR>
</P>
<H1>A Version IDs and Version Strings 
</H1>
<HR>
<P>This section is simply a formal encoding of common conventions for
dot-notations. The formal syntax is to ensure predictable behavior of
the download protocols. 
</P>
<P>This section describes the formal syntax of the version-ids and
version strings used in this specification. A version-id is an exact
version that is associated with a resource, such as a JAR file. A
version string is a key that can match one or more version-ids. 
</P>
<P>The version-id used in this specification must conform to the
following syntax:</P>
<BLOCKQUOTE><CODE CLASS="western">version-id ::= string ( separator
string ) *<BR>string &nbsp;&nbsp;&nbsp;&nbsp;::= char ( char ) *<BR>char
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::= any ASCII character except a
space, an ampersand, a </CODE><CODE CLASS="western"><SPAN LANG="en-US">separator</SPAN></CODE><CODE CLASS="western">,
or a modifier. <BR>separator &nbsp;::= &quot;.&quot; | &quot;-&quot;
| &quot;_&quot; </CODE>
</BLOCKQUOTE>
<P>A version string is a list of version-ids separated with spaces.
Each version-id can be postfixed with a '+' to indicate a
greater-than-or-equal match, a &quot;*&quot; to indicated a prefix
match, or have no postfix to indicate an exact match. The syntax of
version-strings is:</P>
<BLOCKQUOTE><CODE CLASS="western">version-string&nbsp;&nbsp;&nbsp;&nbsp;
::=&nbsp; version-range ( &quot; &quot; element) * <BR>version-range&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;::=&nbsp; simple-range ( &quot;&amp;amp;&quot; simple-range) *
<BR>simple-range&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;::=&nbsp;
version-id | version-id modifier <BR>modifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::=&nbsp;
`+` | '*' </CODE>
</BLOCKQUOTE>
<P>A version-id can be described as a tuple of values. A version-id
string is broken in parts for each separator ('.', '-', or '_'). For
example, &quot;1.3.0-rc2-w&quot; becomes (1,3,0,rc2,w), and
&quot;1.2.2-001&quot; becomes (1,2,2,001).</P>
<P>Each element in a tuple is either numeric or alphanumeric. An
elements is numeric if it can be parsed as Java <CODE CLASS="western">int</CODE>,
otherwise it is alphanumeric. Two numeric elements are compared
numerically. Two alphanumeric elements are compared lexicographically
according to the Unicode value<SUP> </SUP>of the individual
characters. When one element is numeric and the other is
alphanumeric, the alphanumeric element is greater than the numeric
element. (Numeric elements have lower precedence than non-numeric
elements.) 
</P>
<P>Before two version-ids are compared the two tuples are <EM>normalized</EM>.
This means that the shortest tuple is padded with 0 (zero element)
entries at the end. Two normalized tuples are always of the same
length. For example, comparing (1, 3) and (1, 3, 1), will result in
comparing (1, 3, 0) and (1, 3, 1). 
</P>
<H2 CLASS="western">A.1 Ordering</H2>
<P>The version-ids are ordered by the natural ordering of
dot-notations. 
</P>
<P>A normalized version-id tuple can be written as (<EM>Head Tail</EM>),
where <EM>Head</EM> is the first element in the tuple, and <EM>Tail</EM>
is the rest<A HREF="javascript:;" ONCLICK="MM_openBrWindow('notes.html#16','','scrollbars=yes,resizable=yes,width=500,height=700')"><SUP>16</SUP></A>.
</P>
<P>Given two version-ids, (HA TA) and (HB TB), then (HA TA) is
greater than (HB TB) if and only if:</P>
<UL>
	<LI><P>HA is greater than HB, or 
	</P>
	<LI><P>HA is equal to HB, TA and TB are not empty, and TA is greater
	than TB recursively 
	</P>
</UL>
<P>In other words, A is greater than B if, when represented as
normalized tuples, there exists some element of A which is greater
than the corresponding element of B, and all earlier elements of A
are the same as in B.</P>
<P>For example, &quot;1.2.2&quot; is greater than &quot;1.2&quot;,
and less than &quot;1.3&quot; (i.e., in effect, comparing &quot;1.2.2&quot;,
&quot;1.2.0&quot;, and &quot;1.3.0&quot;)</P>
<H2 CLASS="western">A.2 Exact Match</H2>
<P>Two normalized version-ids, (HA TA) and (HB TB), match exactly if
and only if:</P>
<UL>
	<LI><P>HA is equal to HB and 
	</P>
	<LI><P>TA and TB are both empty, or TA matches TB exactly. 
	</P>
</UL>
<P>In other words, A is an exact match of B if, when represented as
normalized tuples, the elements of A are the same as the elements of
B.</P>
<P>For example, given the above definition &quot;1.2.2-004&quot; will
be an exact match for &quot;1.2.2.4&quot;, and &quot;1.3&quot; is an
exact match of &quot;1.3.0&quot;.</P>
<H2 CLASS="western">A.3 Prefix Match</H2>
<P>Given two version-ids, (HA TA) and (HB TB), then first (HB TB) is
padded with 0 (zero element) entries at the end so it is at least the
same length as the (HA TA) tuple. 
</P>
<P>(HA TA) is a prefix match of (HB TB) if and only if:</P>
<UL>
	<LI><P>HA is equal to HB, and 
	</P>
	<UL>
		<LI><P>TA is empty, or 
		</P>
		<LI><P>TA is a prefix match of TB 
		</P>
	</UL>
</UL>
<P>In other words, A is a prefix match of B if, when represented as
tuples, the elements of A are the same as the first elements of B.
The padding ensures that B has at least as many elements as A.</P>
<P>For example, given the above definition &quot;1.2.1&quot; will be
a prefix match to &quot;1.2.1-004&quot;, but not to &quot;1.2.0&quot;
or &quot;1.2.10&quot;. The padding step ensures that &quot;1.2.0.0&quot;
is a prefix of &quot;1.2&quot;. Note that prefix matching and
ordering are distinct: &quot;1.3&quot; is greater than &quot;1.2&quot;,
and less than &quot;1.4&quot;, but not a prefix of either.</P>
<H2 CLASS="western">A.4 Version Selection 
</H2>
<P>If two or more available resources match the given version-string,
the JNLP Client should use the one matching the earlier version-range
in the version-string. If two or more available resources match a
given version-range, the JNLP Client should use the one with the
<SPAN LANG="en-US">highest </SPAN>version-id. 
</P>
<P>&nbsp;</P>
</BODY>
</HTML>